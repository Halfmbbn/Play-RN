{"version":3,"file":"wonka.mjs","sources":["../src/helpers.ts","../src/operators.ts","../src/sources.ts","../src/sinks.ts","../src/combine.ts","../src/observable.ts","../src/callbag.ts","../src/pipe.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["const","teardownPlaceholder","talkbackPlaceholder","start","talkback","box","tag","push","value","identity","x","buffer","notifier","source","sink","let","sourceTalkback","notifierTalkback","pulled","ended","signal","length","concatMap","map","inputQueue","outerTalkback","innerTalkback","outerPulled","innerPulled","innerActive","applyInnerSource","innerSource","shift","concatAll","concat","sources","fromArray","filter","predicate","mergeMap","innerTalkbacks","index","indexOf","slice","splice","i","a","l","mergeAll","merge","onEnd","callback","onPush","onStart","sample","undefined","scan","reducer","seed","acc","share","sinks","gotSignal","skip","wait","rest","skipUntil","skipWhile","switchMap","switchAll","take","max","taken","takeLast","queue","takeUntil","takeWhile","debounce","timing","id","deferredEnded","clearTimeout","setTimeout","delay","active","throttle","lazy","produce","fromAsyncIterable","iterable","iterator","Symbol","asyncIterator","looping","next","async","return","done","error","throw","fromIterable","fromValue","make","subscriber","teardown","complete","makeSubject","observer","empty","never","interval","ms","setInterval","clearInterval","fromDomEvent","element","event","addEventListener","removeEventListener","fromPromise","promise","then","Promise","resolve","subscribe","unsubscribe","forEach","publish","_value","doneResult","toAsyncIterable","toArray","values","toPromise","zip","size","Object","keys","filled","Set","talkbacks","Array","isArray","fill","gotBuffer","endCount","loop","key","add","has","combine","observableSymbol","observable","fromObservable","input","subscription","toObservable","closed","this","fromCallbag","callbag","data","toCallbag","num","pipe","args"],"mappings":"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"}